{% if active_banner_alerts %}
<div id="alert-banners" style="position:relative;z-index:1000;">
  {% for alert in active_banner_alerts %}
  <div id="alert-banner-{{ alert.id }}"
       data-alert-id="{{ alert.id }}"
       class="alert-banner-item"
       style="
         display:flex;
         align-items:center;
         justify-content:space-between;
         gap:0.75rem;
         padding:0.5rem 1rem;
         font-size:0.85rem;
         font-family:Inter,sans-serif;
         {% if alert.severity == 'alarm' %}
           background:#7f1d1d;color:#fecaca;
         {% elif alert.severity == 'warning' %}
           background:#78350f;color:#fde68a;
         {% elif alert.severity == 'news' %}
           background:#1e3a5f;color:#bfdbfe;
         {% else %}
           background:#1e293b;color:#cbd5e1;
         {% endif %}
       ">
    <div style="display:flex;align-items:center;gap:0.5rem;flex:1;min-width:0;">
      <span style="font-weight:600;text-transform:uppercase;font-size:0.7rem;
             opacity:0.8;white-space:nowrap;">{{ alert.severity }}</span>
      <span style="overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">
        {{ alert.message }}
      </span>
      <a href="/ssb/status" style="white-space:nowrap;font-size:0.75rem;opacity:0.75;
           text-decoration:underline;color:inherit;">details</a>
    </div>
    <button onclick="dismissAlert({{ alert.id }})"
            aria-label="Dismiss alert"
            style="background:none;border:none;cursor:pointer;opacity:0.7;
                   color:inherit;font-size:1rem;padding:0 0.25rem;flex-shrink:0;">âœ•</button>
  </div>
  {% endfor %}
</div>
<script>
function dismissAlert(id) {
  var el = document.getElementById('alert-banner-' + id);
  if (el) el.style.display = 'none';
  // hide container if all banners are gone
  var container = document.getElementById('alert-banners');
  if (container && !Array.from(container.querySelectorAll('.alert-banner-item'))
        .some(function(el){ return el.style.display !== 'none'; })) {
    container.style.display = 'none';
  }
}
</script>
{% endif %}
